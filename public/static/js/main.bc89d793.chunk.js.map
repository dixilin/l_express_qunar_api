{"version":3,"sources":["views/Card/components/Content.module.scss","views/TrainList/components/FilterMenu.module.scss","views/Date/Date.module.scss","views/City/components/cityList.module.scss","views/Card/components/Calender.module.scss","config.js","views/TrainList/components/ListItem.module.scss","components/Header/Header.module.scss","views/Home/Home.module.scss","views/TrainList/components/BottomFilter.module.scss","views/City/components/CityHeader.module.scss","views/Card/components/TicketList.module.scss","views/Home/components/SpeedRail.module.scss","views/City/components/CityAsideBar.module.scss","views/City/components/CitySearchList.module.scss","components/DateNav/DateNav.module.scss","views/Home/components/Station.module.scss","views/Home/components/Time.module.scss","views/TrainList/components/List.module.scss","components/Header/Header.jsx","store/Home/action.js","store/Home/actionType.js","views/Home/components/Station.jsx","utils/common.js","views/Home/components/Time.jsx","views/Home/components/SpeedRail.jsx","views/Home/Home.jsx","views/Date/Date.jsx","views/City/components/CityHeader.jsx","views/City/components/CityAsideBar.jsx","views/City/components/CityList.jsx","views/City/components/CitySearchList.jsx","views/City/City.jsx","components/DateNav/DateNav.jsx","views/TrainList/components/ListItem.jsx","views/TrainList/components/List.jsx","views/TrainList/components/BottomFilter.jsx","views/TrainList/components/FilterMenu.jsx","views/TrainList/index.jsx","views/Card/components/Content.jsx","views/Card/components/TicketList.jsx","views/Card/components/Calender.jsx","views/Card/index.jsx","App.js","store/Home/reducer.js","store/rootReducer.js","store/index.js","index.js"],"names":["module","exports","baseUrl","Header","className","style","header","visibility","window","location","hash","cs","headerLeft","onClick","props","history","go","headerCenter","this","title","headerRight","Component","withRouter","getChangeCityAction","obj","type","getSwitchMenuStateAction","val","getIsOnlyHighSpeedRailAction","getTrainListAction","dispatch","startStation","startCity","endStation","terminalCity","date","selectedDate","query","onlyTickets","sort","filterTicketType","filterTrainType","filterDepStation","filterArrStation","fetch","then","res","json","status","alert","message","action","jsonData","trainListAction","data","isOnlyHighSpeedRail","getTicketTypeAction","ticketTypeSelected","getTrainTypeAction","trainTypeSelected","getDepStationAction","depStationSelected","getArrStationAction","arrStationSelected","getSearchAction","HomeStation","toCityPage","push","station","switchCity","connect","state","home","formatWeek","Number","dayjs","format","formatDate","getNextDate","d","get","slice","lastIndexOf","getPrevDate","time","handleClick","getFilterTrainType","speedRail","selected","Home","homeContent","bgImage","searchBox","Station","Time","SpeedRail","searchBtn","to","JsonContext","createContext","MonthItem","month","thisMonth","monthContainer","year","weekBanner","WrapDateItem","cardSearch","changeDate","changeSearch","useContext","currentStamp","currentDate","WorkHoliday","work","vacation","HolidayData","cYear","cMonth","dateEnd","endOf","dayStart","day","dayEnd","allCells","i","isPrev","isRest","find","el","name","k","holidayName","dateCon","map","item","idx","key","dayItem","restDay","prevDay","newSearch","length","topTip","Date","useState","holidayData","setHolidayData","useEffect","JSON","parse","conf","dateContainer","Provider","value","CityHeader","placeholder","searchVal","onChange","e","target","trim","setSearchVal","setSearchList","letters","toUpperCase","CityAsideBar","getCurrentIndex","currIdx","areaHeight","sideBarConRef","useRef","activeIndex","setActiveIndex","touchStartY","setTouchStartY","alphaLisYData","setAlphaLisYData","switchIndex","touchY","index","findIndex","handleTouchEnd","endTouchY","changedTouches","clientY","removeEventListener","handleTouchMove","passiveL","moveTouchY","touches","tempArr","alphaHeight","current","offsetHeight","liHeight","children","headerHeight","document","querySelector","Array","from","forEach","_item","addEventListener","handleTouchStart","innerText","sideBarCon","ref","onTouchStart","active","WrapperSameLetterCities","changeCity","search","citys","itemsList","data-title","cItem","cItemName","cityName","CityList","YData","setYData","currentIndex","setCurrentIndex","setAreaHeight","wrapperRef","cityConRef","wrapper","tempData","initY","containerOutside","contentWrapper","onScroll","y","scrollTop","cityContent","cityData","searchList","citySearchList","display","City","height","position","params","newParams","getNewSearch","cb","dateNav","disabled","stringify","saveSearch","ticketContent","trainStatus","color","trainStatusDes","trainShowDesc","priceMsg","remainTicket","listItem","trainNumber","dCity","dStation","aCity","aStation","dTime","toCardPage","ItemTime","timeStart","timeEnd","aTime","dayAfter","itemStation","itemTrain","itemTicket","getTrainList","list","trainData","trains","filterQuery","switchMenuState","flag","oldTicketTypeSelected","split","oldTrainTypeSelected","oldDepStationSelected","oldArrStationSelected","filterStation","filterCon","menuShow","selectedTicketTypeItem","selectedTrainTypeItem","selectedDepStationItem","selectedArrStationItem","confirmMenu","resetMenu","ticketType","trainType","depStation","arrStation","filter","useCallback","isNum","splice","filterModel","hidden","filterMenu","join","options","optionItem","includes","content","arrWeek","depWeek","timeCost","depDataValue","arrDataValue","setFlag","left","city","middle","trainName","trainMid","trainMidLeft","timer","trainMidRight","trainTime","right","ticketInfos","lists","ticketId","price","clickable","menu","Calender","stations","mask","pop","stopPropagation","titleLeft","titleRight","no","arrTime","depTime","stayTime","setTicketInfos","setContent","code","datas","train","background","Content","TicketList","App","path","exact","component","TrainList","Card","defaultState","isMenuEmpty","reducer","indexOf","newState","combineReducers","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","rootReducer","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bc89d793.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__1I2dy\",\"trainName\":\"Content_trainName__2s2Xs\",\"trainMidLeft\":\"Content_trainMidLeft__2zuHl\",\"trainMidRight\":\"Content_trainMidRight__3STfn\",\"timer\":\"Content_timer__2jDKO\",\"trainTime\":\"Content_trainTime__25NUI\",\"date\":\"Content_date__1UpN0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterModel\":\"FilterMenu_filterModel__2Io0Q\",\"filterMenu\":\"FilterMenu_filterMenu__SnLDm\",\"title\":\"FilterMenu_title__23ZwA\",\"options\":\"FilterMenu_options__1-WRX\",\"optionItem\":\"FilterMenu_optionItem__A8QIV\",\"selected\":\"FilterMenu_selected__1NxeL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateContainer\":\"Date_dateContainer__1Yg0W\",\"monthContainer\":\"Date_monthContainer__gRlQ5\",\"title\":\"Date_title__3dftG\",\"weekBanner\":\"Date_weekBanner__19io-\",\"dateCon\":\"Date_dateCon__2vjah\",\"dayItem\":\"Date_dayItem__3rXpa\",\"topTip\":\"Date_topTip__bPErP\",\"restDay\":\"Date_restDay__3Ncmq\",\"prevDay\":\"Date_prevDay__1wi2v\",\"selected\":\"Date_selected__2ZrhU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerOutside\":\"cityList_containerOutside__1O26h\",\"contentWrapper\":\"cityList_contentWrapper__1MY-e\",\"cityContent\":\"cityList_cityContent__jye0i\",\"itemsList\":\"cityList_itemsList__1plEo\",\"title\":\"cityList_title__1RRKL\",\"cItemName\":\"cityList_cItemName__3B-_e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mask\":\"Calender_mask__2AcDd\",\"pop\":\"Calender_pop__fkMsB\",\"title\":\"Calender_title__2GUpO\",\"titleLeft\":\"Calender_titleLeft__1kSZE\",\"titleRight\":\"Calender_titleRight__1pwBc\",\"lists\":\"Calender_lists__1iTWW\",\"left\":\"Calender_left__3Qdt-\",\"right\":\"Calender_right__2-ZfW\"};","exports.baseUrl = process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:3301' : 'http://39.101.198.23:3301'\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"ListItem_listItem__2C5C7\",\"ItemTime\":\"ListItem_ItemTime__3BhKA\",\"timeEnd\":\"ListItem_timeEnd__2Bf4j\",\"itemStation\":\"ListItem_itemStation__36oGd\",\"itemTrain\":\"ListItem_itemTrain__4Xob2\",\"itemTicket\":\"ListItem_itemTicket__1Dfft\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__24atl\",\"headerLeft\":\"Header_headerLeft__2dYeH\",\"headerCenter\":\"Header_headerCenter__3Jbvc\",\"headerRight\":\"Header_headerRight__1sFll\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homeContent\":\"Home_homeContent__GFW-G\",\"bgImage\":\"Home_bgImage__1pLNR\",\"searchBox\":\"Home_searchBox__1GdJ2\",\"searchBtn\":\"Home_searchBtn__2F6rV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterCon\":\"BottomFilter_filterCon__ArVOQ\",\"selected\":\"BottomFilter_selected__2bwsH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"CityHeader_header__1rA8J\",\"headerLeft\":\"CityHeader_headerLeft__3cd24\",\"headerCenter\":\"CityHeader_headerCenter__1RwY-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lists\":\"TicketList_lists__3s-Xh\",\"list\":\"TicketList_list__2yA5P\",\"disabled\":\"TicketList_disabled__3t_rW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"speedRail\":\"SpeedRail_speedRail__3n8Mv\",\"selected\":\"SpeedRail_selected__3QiwP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideBarCon\":\"CityAsideBar_sideBarCon__1MYjn\",\"active\":\"CityAsideBar_active__2Paeu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"citySearchList\":\"CitySearchList_citySearchList__3gsFz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateNav\":\"DateNav_dateNav___Tc-J\",\"disabled\":\"DateNav_disabled__2OBam\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"station\":\"Station_station__3DDaO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"Time_time__3lApj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"List_list__GHx_-\"};","import React, { Component } from \"react\";\r\nimport style from \"./Header.module.scss\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport cs from \"classnames\";\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <div className={style.header}>\r\n        <i\r\n          style={{\r\n            visibility: window.location.hash === \"#/\" ? \"hidden\" : \"visible\",\r\n          }}\r\n          className={cs(\"iconfont\", \"icon-left\", { [style.headerLeft]: true })}\r\n          onClick={() => {\r\n            this.props.history.go(-1);\r\n          }}></i>\r\n        <h1 className={style.headerCenter}>\r\n          {this.props.title ? this.props.title : \"火车票\"}\r\n        </h1>\r\n        <span className={style.headerRight}></span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Header);\r\n","import {\r\n  CHANGE_CITY,\r\n  CHANGE_DATE,\r\n  SWITCH_CITY,\r\n  SWITCH_MENU_STATE,\r\n  GET_TRAIN_LIST,\r\n  GET_TICKET_TYPE,\r\n  GET_TRAIN_TYPE,\r\n  GET_DEP_STATION,\r\n  GET_ARR_STATION,\r\n  GET_ONLY_HIGH_SPEED_RAIL,\r\n  FILTER_TRAIN_TYPE,\r\n  GET_SEARCH\r\n} from \"./actionType\";\r\n\r\nimport {baseUrl} from '@/config'\r\n\r\nexport const getChangeCityAction = (obj) => {\r\n  return {\r\n    type: CHANGE_CITY,\r\n    obj\r\n  };\r\n};\r\nexport const getChangeDateAction = (val) => {\r\n  return {\r\n    type: CHANGE_DATE,\r\n    val\r\n  };\r\n};\r\n\r\nexport const getSwitchCityAction = () => {\r\n  return {\r\n    type: SWITCH_CITY\r\n  };\r\n}\r\n\r\nexport const getSwitchMenuStateAction = (val) => {\r\n  return {\r\n    type: SWITCH_MENU_STATE,\r\n    val\r\n  };\r\n}\r\n\r\nconst trainListAction = (jsonData, val) => {\r\n  return {\r\n    type: GET_TRAIN_LIST,\r\n    jsonData,\r\n    val\r\n  }\r\n}\r\n\r\nexport const getIsOnlyHighSpeedRailAction = (val) => {\r\n  return {\r\n    type: GET_ONLY_HIGH_SPEED_RAIL,\r\n    val\r\n  }\r\n}\r\n\r\nexport const getTrainListAction = (val) => (dispatch) => {\r\n  const { startCity: startStation, terminalCity: endStation, selectedDate: date, query } = val\r\n  const { onlyTickets, sort, filterTicketType, filterTrainType, filterDepStation,filterArrStation } = query\r\n  fetch(\r\n    `${baseUrl}/getTickets?startStation=${startStation}&endStation=${endStation}&date=${date}&onlyTickets=${onlyTickets}&sort=${sort}&filterTicketType=${filterTicketType}&filterTrainType=${filterTrainType}&filterDepStation=${filterDepStation}&filterArrStation=${filterArrStation}`\r\n  )\r\n    .then((res) => res.json())\r\n    .then((json) => {\r\n      if (json.status === 0) {\r\n        return alert(json.message)\r\n      }\r\n      if (json.status === 200) {\r\n        const action = trainListAction(json.data, val)\r\n        dispatch(action)\r\n        dispatch(getIsOnlyHighSpeedRailAction(val.isOnlyHighSpeedRail))\r\n        dispatch(getSwitchMenuStateAction(false))\r\n        dispatch(getTicketTypeAction(val.ticketTypeSelected))\r\n        dispatch(getTrainTypeAction(val.trainTypeSelected))\r\n        dispatch(getDepStationAction(val.depStationSelected))\r\n        dispatch(getArrStationAction(val.arrStationSelected))\r\n      }\r\n    });\r\n}\r\n\r\nexport const getTicketTypeAction = (val) => {\r\n  return {\r\n    type: GET_TICKET_TYPE,\r\n    val\r\n  }\r\n}\r\n\r\nexport const getTrainTypeAction = (val) => {\r\n  return {\r\n    type: GET_TRAIN_TYPE,\r\n    val\r\n  }\r\n}\r\n\r\nexport const getDepStationAction = (val) => {\r\n  return {\r\n    type: GET_DEP_STATION,\r\n    val\r\n  }\r\n}\r\n\r\nexport const getArrStationAction = (val) => {\r\n  return {\r\n    type: GET_ARR_STATION,\r\n    val\r\n  }\r\n}\r\n\r\nexport const getFilterTrainType = (val) => {\r\n  return {\r\n    type: FILTER_TRAIN_TYPE,\r\n    val\r\n  }\r\n}\r\n\r\nexport const getSearchAction = (val) => {\r\n  return {\r\n    type: GET_SEARCH,\r\n    val\r\n  }\r\n}\r\n","export const CHANGE_CITY = \"changeCity\";\r\n\r\nexport const CHANGE_DATE = \"changeDate\";\r\n\r\nexport const SWITCH_CITY = \"switchCity\";\r\n\r\nexport const SWITCH_MENU_STATE = \"switchMenuState\";\r\n\r\nexport const FILTER_QUERY = \"filterQuery\";\r\n\r\nexport const GET_TRAIN_LIST = 'getTrainList'\r\n\r\nexport const GET_TICKET_TYPE = 'getTicketType'\r\n\r\nexport const GET_TRAIN_TYPE = 'getTrainType'\r\n\r\nexport const GET_DEP_STATION = 'getDepStation'\r\n\r\nexport const GET_ARR_STATION = 'getArrStation'\r\n\r\nexport const GET_ONLY_HIGH_SPEED_RAIL = 'getOnlyHighSpeedRail'\r\n\r\nexport const FILTER_TRAIN_TYPE = 'filterTrainType'\r\n\r\nexport const GET_SEARCH = 'getSearch'\r\n\r\n","import React, { Component } from \"react\";\r\nimport { withRouter} from \"react-router-dom\";\r\nimport style from \"./Station.module.scss\";\r\nimport cs from \"classnames\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport {getSwitchCityAction} from '@/store/Home/action'\r\n\r\nclass HomeStation extends Component {\r\n  render() {\r\n    const { startCity, terminalCity } = this.props;\r\n    return (\r\n      <div className={style.station}>\r\n        <div\r\n          onClick={() => {\r\n            this.toCityPage(\"start\");\r\n          }}>\r\n          {startCity}\r\n        </div>\r\n        <i className={cs(\"iconfont icon-switch\")} onClick={this.props.switchCity}></i>\r\n        <div\r\n          onClick={() => {\r\n            this.toCityPage(\"terminal\");\r\n          }}>\r\n          {terminalCity}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  toCityPage = (query) => {\r\n    this.props.history.push(\"/cityPage?from=\" + query);\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { startCity, terminalCity } = state.home;\r\n  return {\r\n    startCity,\r\n    terminalCity,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    switchCity(){\r\n      const action = getSwitchCityAction()\r\n      dispatch(action)\r\n    }\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(HomeStation));\r\n","import dayjs from 'dayjs'\r\n\r\nexport const formatWeek = (date) => {\r\n  const names = ['日', '一', '二', '三', '四', '五', '六']\r\n  return `周${names[Number(dayjs(date).format('d'))]}`\r\n}\r\n\r\nexport const formatDate = (date) => {\r\n  return dayjs(date).format('M月DD日')\r\n}\r\n\r\nexport const getNextDate = (date) => {\r\n  const d = dayjs(date).get('date') + 1\r\n  return dayjs(date.slice(0, date.lastIndexOf('-') + 1) + d).format(\"YYYY-MM-DD\")\r\n}\r\n\r\nexport const getPrevDate = (date) => {\r\n  const d = dayjs(date).get('date') - 1\r\n  return dayjs(date.slice(0, date.lastIndexOf('-') + 1) + d).format(\"YYYY-MM-DD\")\r\n}\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport style from \"./Time.module.scss\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport {formatDate,formatWeek} from \"@/utils/common\";\r\nconst TimeCpn = (props) => {\r\n  const toDatePage = () => {\r\n    props.history.push(\"/datePage\");\r\n  };\r\n\r\n  const { selectedDate } = props;\r\n\r\n  return (\r\n    <div className={style.time} onClick={toDatePage}>\r\n      <span>{formatDate(selectedDate)}</span>\r\n      <span>{formatWeek(selectedDate)}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { selectedDate } = state.home;\r\n  return {\r\n    selectedDate,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(TimeCpn));\r\n","import React from \"react\";\r\nimport style from \"./SpeedRail.module.scss\";\r\nimport cs from \"classnames\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getIsOnlyHighSpeedRailAction,\r\n  getTrainTypeAction,\r\n  getFilterTrainType,\r\n} from \"@/store/Home/action\";\r\n\r\nconst HomeStation = (props) => {\r\n  const { isOnlyHighSpeedRail, handleClick } = props;\r\n  return (\r\n    <div className={style.speedRail}>\r\n      <div\r\n        onClick={() => {\r\n          handleClick(!isOnlyHighSpeedRail);\r\n        }}>\r\n        <i\r\n          className={cs(\"iconfont icon-xuanzhong\", {\r\n            [style.selected]: isOnlyHighSpeedRail,\r\n          })}></i>\r\n        <span>只看高铁/动车</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { isOnlyHighSpeedRail } = state.home;\r\n  return {\r\n    isOnlyHighSpeedRail,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleClick(val) {\r\n      const action = getIsOnlyHighSpeedRailAction(val);\r\n      dispatch(action);\r\n      dispatch(getTrainTypeAction([5, 1]));\r\n      dispatch(getFilterTrainType(val ? \"5,1\" : \"\"));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeStation);\r\n","import React, { Component } from \"react\";\r\nimport Header from \"@/components/Header/Header\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport style from \"./Home.module.scss\";\r\n\r\nimport cs from \"classnames\";\r\n\r\nimport Station from \"./components/Station\";\r\nimport Time from \"./components/Time\";\r\nimport SpeedRail from \"./components/SpeedRail\";\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div className={cs(style.homeContent)}>\r\n          <div className={cs(style.bgImage)}></div>\r\n          <div className={cs(style.searchBox)}>\r\n            <Station />\r\n            <Time />\r\n            <SpeedRail />\r\n            <div className={style.searchBtn}>\r\n              <Link to=\"/trainList\">\r\n                <button>搜索</button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Home;\r\n","import React, { useState, useEffect, useContext, createContext } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Header from \"@/components/Header/Header\";\r\n\r\nimport style from \"./Date.module.scss\";\r\nimport dayjs from \"dayjs\";\r\n\r\nimport cs from \"classnames\";\r\n\r\nimport { getChangeDateAction, getSearchAction } from \"@/store/Home/action\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { baseUrl } from \"@/config\";\r\n\r\nconst JsonContext = createContext(null);\r\nconst DateItem = (props) => {\r\n  const json = useContext(JsonContext);\r\n  if (json) {\r\n    const currentStamp = +dayjs(); //获取当前时间戳\r\n    const currentDate = dayjs().format(\"YYYY-MM-DD\");\r\n    const { work, vacation } = json.WorkHoliday;\r\n    const { HolidayData } = json;\r\n    const { thisMonth, changeSearch, cardSearch } = props;\r\n    const cYear = dayjs().month(thisMonth).year();\r\n    const cMonth = dayjs().month(thisMonth).month() + 1;\r\n    const dateEnd = dayjs().month(thisMonth).endOf(\"month\").date();\r\n    const dayStart = dayjs(`${cYear}-${cMonth}-1`).day();\r\n    const dayEnd = dayjs().month(thisMonth).endOf(\"month\").day();\r\n    //每月总格子数\r\n    const allCells = dateEnd + dayStart + (6 - dayEnd);\r\n    let data = [];\r\n    for (let i = 1; i <= allCells; i++) {\r\n      if (i <= dayStart || i > dateEnd + dayStart) {\r\n        data.push(null);\r\n      } else {\r\n        const val = i - dayStart;\r\n        const day = dayjs(`${cYear}-${cMonth}-${i - dayStart}`).day();\r\n        const date = dayjs(`${cYear}-${cMonth}-${i - dayStart}`).format(\r\n          \"YYYY-MM-DD\"\r\n        );\r\n        const isPrev =\r\n          +dayjs(`${cYear}-${cMonth}-${i - dayStart}`) - currentStamp <\r\n          -1000 * 60 * 60 * 24;\r\n        const isRest =\r\n          ((day === 0 || day === 6) && !work.find((el) => date === el)) ||\r\n          vacation.find((el) => date === el);\r\n\r\n        let name = isRest ? \"休\" : work.find((el) => date === el) ? \"班\" : \"\";\r\n\r\n        for (let k in HolidayData) {\r\n          if (k === date) {\r\n            name = HolidayData[k].holidayName;\r\n            break;\r\n          }\r\n        }\r\n        data.push({\r\n          val,\r\n          day,\r\n          date,\r\n          isPrev,\r\n          isRest,\r\n          name,\r\n        });\r\n      }\r\n    }\r\n    return (\r\n      <div className={style.dateCon}>\r\n        {data.map((item, idx) => {\r\n          if (item) {\r\n            return (\r\n              <div\r\n                key={idx}\r\n                className={cs(\r\n                  style.dayItem,\r\n                  {\r\n                    [style.restDay]: item.isRest,\r\n                  },\r\n                  {\r\n                    [style.prevDay]: item.isPrev,\r\n                  },\r\n                  {\r\n                    [style.selected]: item.date === props.selectedDate,\r\n                  }\r\n                )}\r\n                onClick={() => {\r\n                  if (item.isPrev) {\r\n                    return;\r\n                  }\r\n                  if (cardSearch) {\r\n                    let newSearch = cardSearch;\r\n                    const str = \"date=\";\r\n                    const idx = newSearch.lastIndexOf(str);\r\n                    newSearch =\r\n                      newSearch.slice(0, idx + str.length) + item.date;\r\n                    changeSearch(newSearch);\r\n                  }\r\n                  props.changeDate(item.date);\r\n                  props.history.go(-1);\r\n                }}>\r\n                <span className={style.topTip}>{item.name}</span>\r\n                <span>{item.date === currentDate ? \"今天\" : item.val}</span>\r\n              </div>\r\n            );\r\n          }\r\n          return <div className={style.dayItem} key={idx}></div>;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n  return \"\";\r\n};\r\n\r\nconst MonthItem = (props) => {\r\n  const { thisMonth: month } = props;\r\n  return (\r\n    <div className={style.monthContainer}>\r\n      <div className={style.title}>\r\n        {dayjs(`${dayjs().year()}-${month + 1}`).format(\"YYYY年M月\")}\r\n      </div>\r\n      <ul className={style.weekBanner}>\r\n        <li>日</li>\r\n        <li>一</li>\r\n        <li>二</li>\r\n        <li>三</li>\r\n        <li>四</li>\r\n        <li>五</li>\r\n        <li>六</li>\r\n      </ul>\r\n      <WrapDateItem thisMonth={month} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Date = () => {\r\n  const [holidayData, setHolidayData] = useState(null);\r\n  useEffect(() => {\r\n    fetch(baseUrl + \"/WorkHoliday\")\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((json) => {\r\n        if (json.status === 0) {\r\n          setHolidayData(JSON.parse(json.conf));\r\n        }\r\n      });\r\n  }, []);\r\n  if (holidayData) {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div className={style.dateContainer}>\r\n          <JsonContext.Provider value={holidayData}>\r\n            <MonthItem thisMonth={dayjs().month()} />\r\n            <MonthItem thisMonth={dayjs().month() + 1} />\r\n            <MonthItem thisMonth={dayjs().month() + 2} />\r\n          </JsonContext.Provider>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return \"loading...\";\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { selectedDate, cardSearch } = state.home;\r\n  return {\r\n    selectedDate,\r\n    cardSearch,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changeDate(date) {\r\n      const action = getChangeDateAction(date);\r\n      dispatch(action);\r\n    },\r\n    changeSearch(val) {\r\n      const action = getSearchAction(val);\r\n      dispatch(action);\r\n    },\r\n  };\r\n};\r\n\r\nconst WrapDateItem = withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(DateItem)\r\n);\r\n\r\nexport default Date;\r\n","import React from \"react\";\r\nimport style from \"./CityHeader.module.scss\";\r\n\r\nimport cs from \"classnames\";\r\nimport {baseUrl} from '@/config'\r\n\r\nconst CityHeader = (props) => {\r\n  return (\r\n    <div className={\"cityHeader \" + style.header}>\r\n      <i\r\n        className={cs(\"iconfont\", \"icon-left\", { [style.headerLeft]: true })}\r\n        onClick={() => {\r\n          window.history.go(-1);\r\n        }}></i>\r\n      <div className={style.headerCenter}>\r\n        <input\r\n          type='text'\r\n          placeholder='城市、车站的中文或拼音'\r\n          value={props.searchVal}\r\n          onChange={(e) => {\r\n            const val = e.target.value.trim();\r\n            props.setSearchVal(val);\r\n            fetch(`${baseUrl}/getCitySearch?keyword=${val}`)\r\n              .then((res) => res.json())\r\n              .then((json) => {\r\n                if (json.status === 200) {\r\n                  props.setSearchList(json.data);\r\n                }\r\n              });\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default CityHeader;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport style from \"./CityAsideBar.module.scss\";\r\n\r\nconst letters = [\r\n  \"a\",\r\n  \"b\",\r\n  \"c\",\r\n  \"d\",\r\n  \"e\",\r\n  \"f\",\r\n  \"g\",\r\n  \"h\",\r\n  \"i\",\r\n  \"j\",\r\n  \"k\",\r\n  \"l\",\r\n  \"m\",\r\n  \"n\",\r\n  \"o\",\r\n  \"p\",\r\n  \"q\",\r\n  \"r\",\r\n  \"s\",\r\n  \"t\",\r\n  \"u\",\r\n  \"v\",\r\n  \"w\",\r\n  \"x\",\r\n  \"y\",\r\n  \"z\",\r\n].map((item) => {\r\n  return item.toUpperCase();\r\n});\r\n\r\nconst CityAsideBar = (props) => {\r\n  const { getCurrentIndex, currIdx, areaHeight } = props;\r\n\r\n  const sideBarConRef = useRef();\r\n\r\n  const [activeIndex, setActiveIndex] = useState(\"A\");\r\n  const [touchStartY, setTouchStartY] = useState(null);\r\n\r\n  const [alphaLisYData, setAlphaLisYData] = useState([]);\r\n\r\n  const switchIndex = (touchY) => {\r\n    let index;\r\n    if (touchY <= alphaLisYData[0]) {\r\n      index = 0;\r\n    } else if (touchY >= alphaLisYData[alphaLisYData.length - 1]) {\r\n      index = alphaLisYData.length - 1;\r\n    } else {\r\n      index = alphaLisYData.findIndex(\r\n        (item, idx) => touchY >= item && touchY < alphaLisYData[idx + 1]\r\n      );\r\n    }\r\n    getCurrentIndex(index);\r\n  };\r\n\r\n  const handleTouchEnd = (e) => {\r\n    const endTouchY = e.changedTouches[0].clientY;\r\n    switchIndex(endTouchY);\r\n    window.removeEventListener(\"touchmove\", handleTouchMove, {\r\n      passiveL: false,\r\n    });\r\n    window.removeEventListener(\"touchend\", handleTouchEnd, { passiveL: false });\r\n  };\r\n\r\n  const handleTouchMove = (e) => {\r\n    const moveTouchY = e.touches[0].clientY;\r\n    switchIndex(moveTouchY);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (areaHeight) {\r\n      const tempArr = [];\r\n      const alphaHeight = sideBarConRef.current.offsetHeight;\r\n      const liHeight = sideBarConRef.current.children[0].offsetHeight;\r\n      const headerHeight = document.querySelector(\".cityHeader\").offsetHeight;\r\n\r\n      Array.from(sideBarConRef.current.children).forEach((_item, idx) => {\r\n        tempArr.push(\r\n          headerHeight + (areaHeight - alphaHeight) / 2 + liHeight * idx\r\n        );\r\n      });\r\n      setAlphaLisYData(tempArr);\r\n    }\r\n  }, [areaHeight]);\r\n\r\n  useEffect(() => {\r\n    letters.forEach((item, idx) => {\r\n      if (idx === currIdx) {\r\n        setActiveIndex(item);\r\n        return false;\r\n      }\r\n    });\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (touchStartY !== null) {\r\n      window.addEventListener(\"touchmove\", handleTouchMove);\r\n      window.addEventListener(\"touchend\", handleTouchEnd);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [touchStartY]);\r\n\r\n  const handleTouchStart = (e) => {\r\n    const index = letters.findIndex((item) => item === e.target.innerText);\r\n    getCurrentIndex(index);\r\n    setTouchStartY(e.touches[0].clientY);\r\n  };\r\n\r\n  return (\r\n    <ul className={style.sideBarCon} ref={sideBarConRef}>\r\n      {letters.map((item) => {\r\n        return (\r\n          <li\r\n            key={item}\r\n            onTouchStart={handleTouchStart}\r\n            className={activeIndex === item ? style.active : \"\"}\r\n          >\r\n            {item}\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default CityAsideBar;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport cityData from \"@/lib/cities.json\";\r\nimport style from \"./cityList.module.scss\";\r\n\r\nimport CityAsideBar from \"./CityAsideBar\";\r\n\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { getChangeCityAction } from \"@/store/Home/action\";\r\n\r\nconst SameLetterCities = (props) => {\r\n  const { item } = props;\r\n  const search = props.history.location.search;\r\n  if (!item.citys || !item.citys.length) {\r\n    return (\r\n      <div className={style.itemsList}>\r\n        <h3 className={style.title} data-title={item.title}>\r\n          {item.title}\r\n        </h3>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className={style.itemsList}>\r\n      <h3 className={style.title} data-title={item.title}>\r\n        {item.title}\r\n      </h3>\r\n      <ul>\r\n        {item.citys.map((cItem, i) => {\r\n          return (\r\n            <Link to='/' key={i}>\r\n              <li\r\n                className={style.cItemName}\r\n                onClick={() => {\r\n                  props.changeCity({ cityName: cItem.name, search });\r\n                }}>\r\n                {cItem.name}\r\n              </li>\r\n            </Link>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CityList = () => {\r\n  const [YData, setYData] = useState([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [areaHeight, setAreaHeight] = useState(null);\r\n\r\n  const wrapperRef = useRef(null);\r\n  const cityConRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const wrapper = wrapperRef.current;\r\n    setAreaHeight(wrapper.offsetHeight);\r\n    let tempData = [0];\r\n    let initY = 0;\r\n    Array.from(cityConRef.current.children).forEach((item) => {\r\n      initY += item.offsetHeight;\r\n      tempData.push(initY);\r\n    });\r\n    setYData(tempData);\r\n  }, []);\r\n\r\n  const changeIndex = (i) => {\r\n    wrapperRef.current.scrollTop = YData[i];\r\n    setCurrentIndex(i);\r\n  };\r\n\r\n  const watchScroll = (e) => {\r\n    const y = e.target.scrollTop;\r\n    const index = YData.findIndex(\r\n      (item, idx) => y >= item && y < YData[idx + 1]\r\n    );\r\n    setCurrentIndex(index);\r\n  };\r\n\r\n  return (\r\n    <div className={style.containerOutside}>\r\n      <div\r\n        className={style.contentWrapper}\r\n        ref={wrapperRef}\r\n        onScroll={watchScroll}>\r\n        <div className={style.cityContent} ref={cityConRef}>\r\n          {cityData.map((item) => {\r\n            return <WrapperSameLetterCities item={item} key={item.title} />;\r\n          })}\r\n        </div>\r\n        <CityAsideBar\r\n          getCurrentIndex={changeIndex}\r\n          currIdx={currentIndex}\r\n          areaHeight={areaHeight}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changeCity(obj) {\r\n      const action = getChangeCityAction(obj);\r\n      dispatch(action);\r\n    },\r\n  };\r\n};\r\n\r\nconst WrapperSameLetterCities = withRouter(\r\n  connect(null, mapDispatchToProps)(SameLetterCities)\r\n);\r\n\r\nexport default CityList;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport style from \"./CitySearchList.module.scss\";\r\nimport cs from \"classnames\";\r\n\r\nimport {getChangeCityAction} from '@/store/Home/action'\r\n\r\nconst CitySearchList = (props) => {\r\n  const { searchList, searchVal,changeCity } = props;\r\n  if (!searchList.length && searchVal === \"\") {\r\n    return null;\r\n  } else if (!searchList.length && searchVal !== \"\") {\r\n    return <div className={cs(style.citySearchList)}>暂无该城市信息</div>;\r\n  } else{\r\n    return (\r\n      <ul className={cs(style.citySearchList)}>\r\n        {searchList.map((item) => {\r\n          return <li key={item.display} onClick={()=>{\r\n            changeCity({cityName:item.key,search:window.location.hash === '#/cityPage?from=terminal' ? 'terminal' : 'start'})\r\n            window.history.go(-1)\r\n          }}>{item.display}</li>;\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changeCity(obj) {\r\n      const action = getChangeCityAction(obj);\r\n      dispatch(action);\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(null,mapDispatchToProps)(CitySearchList);\r\n","import React, { useState } from \"react\";\r\n\r\nimport CityHeader from \"./components/CityHeader\";\r\nimport CityList from \"./components/CityList\";\r\nimport CitySearchList from \"./components/CitySearchList\";\r\n\r\nconst City = () => {\r\n  const [searchList, setSearchList] = useState([]);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  return (\r\n    <div style={{ height: \"100vh\", position: \"relative\" }}>\r\n      <CityHeader searchList={searchList} setSearchList={setSearchList} setSearchVal={setSearchVal} searchVal={searchVal}/>\r\n      <CityList />\r\n      <CitySearchList searchList={searchList} searchVal={searchVal}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default City;\r\n","import React from \"react\";\r\nimport style from \"./DateNav.module.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { formatDate, formatWeek } from \"@/utils/common\";\r\nimport { getTrainListAction ,getSearchAction} from \"@/store/Home/action\";\r\nimport { getNextDate, getPrevDate } from \"@/utils/common\";\r\nimport { Link } from \"react-router-dom\";\r\nimport dayjs from \"dayjs\";\r\nconst DateNav = (props) => {\r\n  const { selectedDate, changeDate, params,changeSearch,cardSearch } = props;\r\n\r\n  const getNewSearch = (date,cb) => {\r\n    if(cardSearch){\r\n      let newSearch = cardSearch;\r\n      const str = 'date='\r\n      const idx = newSearch.lastIndexOf(str)\r\n      newSearch = newSearch.slice(0,idx+str.length) + date\r\n      cb(newSearch)\r\n    }\r\n  };\r\n  return (\r\n    <div className={style.dateNav}>\r\n      <span\r\n        className={\r\n          selectedDate === dayjs().format(\"YYYY-MM-DD\") ? style.disabled : \"\"\r\n        }\r\n        onClick={() => {\r\n          if (selectedDate === dayjs().format(\"YYYY-MM-DD\")) {\r\n            return;\r\n          }\r\n          const newParams = JSON.parse(JSON.stringify(params));\r\n          newParams.selectedDate = getPrevDate(selectedDate);\r\n          changeDate(newParams);\r\n          getNewSearch(getPrevDate(selectedDate),changeSearch)\r\n        }}>\r\n        前一天\r\n      </span>\r\n      <Link to='/datePage'>\r\n        <span>{`${formatDate(selectedDate)} ${formatWeek(selectedDate)}`}</span>\r\n      </Link>\r\n      <span\r\n        onClick={() => {\r\n          const newParams = JSON.parse(JSON.stringify(params));\r\n          newParams.selectedDate = getNextDate(selectedDate);\r\n          changeDate(newParams);\r\n          getNewSearch(getNextDate(selectedDate),changeSearch)\r\n        }}>\r\n        后一天\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { selectedDate,cardSearch } = state.home;\r\n  return {\r\n    selectedDate,\r\n    params: state.home,\r\n    cardSearch\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changeDate(newParams) {\r\n      const action = getTrainListAction(newParams);\r\n      dispatch(action);\r\n    },\r\n    changeSearch(val){\r\n      const action = getSearchAction(val)\r\n      dispatch(action)\r\n    }\r\n  };\r\n};\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DateNav);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport style from \"./ListItem.module.scss\";\r\nimport {connect} from 'react-redux'\r\nimport {getSearchAction} from '@/store/Home/action'\r\n\r\nconst ListItem = (props) => {\r\n  const data = props.item;\r\n  let ticketContent;\r\n  if (data.trainStatus === 3 || data.trainStatus === 2) {\r\n    ticketContent = (\r\n      <span style={{ color: \"#ccc\" }}>{data.trainStatusDes}</span>\r\n    );\r\n  } else {\r\n    if (data.trainShowDesc === \"可抢票\") {\r\n      ticketContent = (\r\n        <>\r\n          <span>{data.priceMsg}</span>\r\n          <span style={{ color: \"#f90\" }}>{data.trainShowDesc}</span>\r\n        </>\r\n      );\r\n    } else {\r\n      ticketContent = (\r\n        <>\r\n          <span>{data.priceMsg}</span>\r\n          <span style={{ color: \"#f90\" }}>{data.remainTicket}</span>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n  const toCardPage = (data) => {\r\n    if(data.trainStatus === 3 || data.trainStatus === 2) return \r\n    props.saveSearch(`trainNum=${data.trainNumber}&startCity=${data.dCity}&startStation=${data.dStation}&endCity=${data.aCity}&endStation=${data.aStation}&dptHm=${data.dTime}&date=${data.date}`)\r\n    props.history.push('/card')\r\n  }\r\n\r\n  return (\r\n    <li className={style.listItem} onClick={()=>{\r\n      toCardPage(data)\r\n    }}>\r\n      <div className={style.ItemTime}>\r\n        <span className={style.timeStart}>{data.dTime}</span>\r\n        <span className={style.timeEnd}>\r\n          {data.aTime}\r\n          <i>{data.dayAfter}</i>\r\n        </span>\r\n      </div>\r\n      <div className={style.itemStation}>\r\n        <span>\r\n          <i>始</i>\r\n          {data.dStation}\r\n        </span>\r\n        <span>\r\n          <i>终</i>\r\n          {data.aStation}\r\n        </span>\r\n      </div>\r\n      <div className={style.itemTrain}>\r\n        <span>{data.trainNumber}</span>\r\n        <span>{data.time}</span>\r\n      </div>\r\n      <div className={style.itemTicket}>{ticketContent}</div>\r\n    </li>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveSearch(val){\r\n      const action = getSearchAction(val)\r\n      dispatch(action)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(null,mapDispatchToProps)(ListItem));\r\n","import React, { useEffect } from \"react\";\r\nimport style from \"./List.module.scss\";\r\nimport ListItem from \"./ListItem\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { getTrainListAction } from \"@/store/Home/action\";\r\nconst List = (props) => {\r\n  const { getTrainList, params } = props;\r\n  useEffect(() => {\r\n    getTrainList(params);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  return (\r\n    <ul className={style.list}>\r\n      {params.trainData.trains &&\r\n        params.trainData.trains.map((item, i) => {\r\n          return <ListItem item={item} key={i} />;\r\n        })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const params = state.home;\r\n  return { params };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getTrainList(params) {\r\n      const action = getTrainListAction(params);\r\n      dispatch(action);\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(List);\r\n","import React from \"react\";\r\nimport style from \"./BottomFilter.module.scss\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  getSwitchMenuStateAction,\r\n  getTrainListAction,\r\n  getTicketTypeAction,\r\n  getTrainTypeAction,\r\n  getDepStationAction,\r\n  getArrStationAction,\r\n} from \"@/store/Home/action\";\r\nimport cs from \"classnames\";\r\n\r\nconst BottomFilter = (props) => {\r\n  const {\r\n    params: { isOnlyHighSpeedRail },\r\n    params,\r\n    filterQuery,\r\n    switchMenuState,\r\n  } = props;\r\n  const {\r\n    sort,\r\n    onlyTickets,\r\n    filterStation,\r\n    filterTicketType,\r\n    filterTrainType,\r\n  } = params.query;\r\n  return (\r\n    <div className={style.filterCon}>\r\n      <div\r\n        onClick={() => {\r\n          const newParams = JSON.parse(JSON.stringify(params));\r\n          newParams.query.sort = sort * 1 === 7 ? 0 : 7;\r\n          filterQuery(newParams);\r\n        }}>\r\n        <i className='iconfont icon-shizhong'></i>\r\n        {sort * 1 !== 7 ? \"耗时 短→长\" : \"出发 早→晚\"}\r\n      </div>\r\n      <div\r\n        onClick={() => {\r\n          const newParams = JSON.parse(JSON.stringify(params));\r\n          if(!isOnlyHighSpeedRail){\r\n            newParams.query.filterTrainType = \"5,1\";\r\n            newParams.trainTypeSelected = [5, 1];\r\n            newParams.isOnlyHighSpeedRail = true\r\n          }else{\r\n            newParams.query.filterTrainType = \"\";\r\n            newParams.trainTypeSelected = [];\r\n            newParams.isOnlyHighSpeedRail = false\r\n          }\r\n          filterQuery(newParams);\r\n        }}\r\n        className={cs({ [style.selected]: isOnlyHighSpeedRail})}>\r\n        <i className='iconfont icon-jt_gaotie'></i>\r\n        只看高铁动车\r\n      </div>\r\n      <div\r\n        onClick={() => {\r\n          const newParams = JSON.parse(JSON.stringify(params));\r\n          newParams.query.onlyTickets = onlyTickets === 1 ? 0 : 1;\r\n          filterQuery(newParams);\r\n        }}\r\n        className={cs({ [style.selected]: onlyTickets === 1 })}>\r\n        <i className='iconfont icon-piao'></i>\r\n        只看有票\r\n      </div>\r\n      <div\r\n        className={cs({\r\n          [style.selected]:\r\n            filterStation || filterTicketType || filterTrainType,\r\n        })}\r\n        onClick={() => {\r\n          switchMenuState(!params.menuShow, params.query);\r\n        }}>\r\n        <i className='iconfont icon-funnel'></i>\r\n        综合筛选\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const params = state.home;\r\n  return {\r\n    params,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    filterQuery(newParams) {\r\n      const action = getTrainListAction(newParams);\r\n      dispatch(action);\r\n    },\r\n    switchMenuState(flag, query) {\r\n      const action = getSwitchMenuStateAction(flag);\r\n      if (!flag) {\r\n        const oldTicketTypeSelected = query.filterTicketType\r\n          ? query.filterTicketType.split(\",\").map((item) => item * 1)\r\n          : [];\r\n        const oldTrainTypeSelected = query.filterTrainType\r\n          ? query.filterTrainType.split(\",\").map((item) => item * 1)\r\n          : [];\r\n        const oldDepStationSelected = query.filterDepStation\r\n          ? query.filterDepStation.split(\",\")\r\n          : [];\r\n        const oldArrStationSelected = query.filterArrStation\r\n          ? query.filterArrStation.split(\",\")\r\n          : [];\r\n        dispatch(getTicketTypeAction(oldTicketTypeSelected));\r\n        dispatch(getTrainTypeAction(oldTrainTypeSelected));\r\n        dispatch(getDepStationAction(oldDepStationSelected));\r\n        dispatch(getArrStationAction(oldArrStationSelected));\r\n      }\r\n      dispatch(action);\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BottomFilter);\r\n","import React, { useCallback } from \"react\";\r\nimport style from \"./FilterMenu.module.scss\";\r\nimport cs from \"classnames\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  getTicketTypeAction,\r\n  getTrainTypeAction,\r\n  getDepStationAction,\r\n  getArrStationAction,\r\n  getTrainListAction,\r\n} from \"@/store/Home/action\";\r\n\r\nconst FilterMenu = (props) => {\r\n  const {\r\n    menuShow,\r\n    trainData,\r\n    confirmMenu,\r\n    resetMenu,\r\n    params,\r\n    ticketTypeSelected,\r\n    selectedTicketTypeItem,\r\n    trainTypeSelected,\r\n    selectedTrainTypeItem,\r\n    depStationSelected,\r\n    selectedDepStationItem,\r\n    arrStationSelected,\r\n    selectedArrStationItem,\r\n    \r\n  } = props;\r\n\r\n  let ticketType = [],\r\n    trainType = [],\r\n    depStation = [],\r\n    arrStation = [];\r\n  if (trainData.filter) {\r\n    ticketType = trainData.filter.ticketType;\r\n    trainType = trainData.filter.trainType;\r\n    depStation = trainData.filter.depStation;\r\n    arrStation = trainData.filter.arrStation;\r\n  }\r\n\r\n  const handleClick = useCallback((item, tempArr, cb, isNum) => {\r\n    const val = isNum ? item.value * 1 : item.value;\r\n    const idx = tempArr.findIndex((k) => k === val);\r\n    idx === -1 ? tempArr.push(val) : tempArr.splice(idx, 1);\r\n    cb(tempArr);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className={cs(style.filterModel, {\r\n        hidden: !menuShow,\r\n      })}>\r\n      <div className={cs(style.filterMenu)}>\r\n        <div className={style.title}>\r\n          <span\r\n            onClick={() => {\r\n              resetMenu(JSON.parse(JSON.stringify(params)));\r\n            }}>\r\n            重置\r\n          </span>\r\n          <span\r\n            onClick={() => {\r\n              const newParams = JSON.parse(JSON.stringify(params));\r\n              newParams.query.filterTicketType = [...ticketTypeSelected].join(\",\");\r\n              newParams.query.filterTrainType = [...trainTypeSelected].join(\",\");\r\n              newParams.query.filterDepStation = [...depStationSelected].join(\",\");\r\n              newParams.query.filterArrStation = [...arrStationSelected].join(',');\r\n              confirmMenu(newParams);\r\n            }}>\r\n            确定\r\n          </span>\r\n        </div>\r\n        <div className={style.options}>\r\n          <div className={style.optionItem}>\r\n            <h3>坐席类型</h3>\r\n            <ul>\r\n              {ticketType.length &&\r\n                ticketType.map((item) => {\r\n                  return (\r\n                    <li\r\n                      key={item.value}\r\n                      className={\r\n                        ticketTypeSelected.includes(item.value * 1)\r\n                          ? style.selected\r\n                          : \"\"\r\n                      }\r\n                      onClick={() => {\r\n                        handleClick(\r\n                          item,\r\n                          [...ticketTypeSelected],\r\n                          selectedTicketTypeItem,\r\n                          true\r\n                        );\r\n                      }}>\r\n                      {item.name}\r\n                    </li>\r\n                  );\r\n                })}\r\n            </ul>\r\n          </div>\r\n          <div className={style.optionItem}>\r\n            <h3>车次类型</h3>\r\n            <ul>\r\n              {trainType.length &&\r\n                trainType.map((item) => {\r\n                  return (\r\n                    <li\r\n                      key={item.value}\r\n                      className={\r\n                        trainTypeSelected.includes(item.value * 1)\r\n                          ? style.selected\r\n                          : \"\"\r\n                      }\r\n                      onClick={() => {\r\n                        handleClick(\r\n                          item,\r\n                          [...trainTypeSelected],\r\n                          selectedTrainTypeItem,\r\n                          true\r\n                        );\r\n                      }}>\r\n                      {item.name}\r\n                    </li>\r\n                  );\r\n                })}\r\n            </ul>\r\n          </div>\r\n          <div className={style.optionItem}>\r\n            <h3>出发车站</h3>\r\n            <ul>\r\n              {depStation.length &&\r\n                depStation.map((item) => {\r\n                  return (\r\n                    <li\r\n                      key={item.value}\r\n                      className={\r\n                        depStationSelected.includes(item.value)\r\n                          ? style.selected\r\n                          : \"\"\r\n                      }\r\n                      onClick={() => {\r\n                        handleClick(\r\n                          item,\r\n                          [...depStationSelected],\r\n                          selectedDepStationItem\r\n                        );\r\n                      }}>\r\n                      {item.name}\r\n                    </li>\r\n                  );\r\n                })}\r\n            </ul>\r\n          </div>\r\n          <div className={style.optionItem}>\r\n            <h3>到达车站</h3>\r\n            <ul>\r\n              {arrStation.length &&\r\n                arrStation.map((item) => {\r\n                  return (\r\n                    <li\r\n                      key={item.value}\r\n                      className={\r\n                        arrStationSelected.includes(item.value)\r\n                          ? style.selected\r\n                          : \"\"\r\n                      }\r\n                      onClick={() => {\r\n                        handleClick(\r\n                          item,\r\n                          [...arrStationSelected],\r\n                          selectedArrStationItem\r\n                        );\r\n                      }}>\r\n                      {item.name}\r\n                    </li>\r\n                  );\r\n                })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const {\r\n    menuShow,\r\n    trainData,\r\n    ticketTypeSelected,\r\n    trainTypeSelected,\r\n    depStationSelected,\r\n    arrStationSelected,\r\n  } = state.home;\r\n  return {\r\n    menuShow,\r\n    trainData,\r\n    ticketTypeSelected,\r\n    trainTypeSelected,\r\n    depStationSelected,\r\n    arrStationSelected,\r\n    params: state.home,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    selectedTicketTypeItem(val) {\r\n      const action = getTicketTypeAction(val);\r\n      dispatch(action);\r\n    },\r\n    selectedTrainTypeItem(val) {\r\n      const action = getTrainTypeAction(val);\r\n      dispatch(action);\r\n    },\r\n    selectedDepStationItem(val) {\r\n      const action = getDepStationAction(val);\r\n      dispatch(action);\r\n    },\r\n    selectedArrStationItem(val) {\r\n      const action = getArrStationAction(val);\r\n      dispatch(action);\r\n    },\r\n    confirmMenu(params) {\r\n      const action = getTrainListAction(params);\r\n      dispatch(action);\r\n    },\r\n    resetMenu(params) {\r\n      params.arrStationSelected = params.depStationSelected = params.ticketTypeSelected = params.trainTypeSelected = [];\r\n      params.query.filterDepStation =  params.query.filterArrStation = params.query.filterTicketType = params.query.filterTrainType =\r\n        \"\";\r\n      params.isOnlyHighSpeedRail = false\r\n      const action = getTrainListAction(params);\r\n      dispatch(action);\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterMenu);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"@/components/Header/Header\";\r\nimport DateNav from \"@/components/DateNav/DateNav\";\r\nimport List from \"./components/List\";\r\nimport BottomFilter from './components/BottomFilter'\r\nimport FilterMenu from './components/FilterMenu'\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { startCity, terminalCity } = state.home;\r\n  return {\r\n    startCity,\r\n    terminalCity,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { startCity, terminalCity } = props;\r\n  return (\r\n    <div>\r\n      <Header title={`${startCity} ⇀ ${terminalCity}`} />\r\n      <DateNav />\r\n      <List />\r\n      <BottomFilter />\r\n      <FilterMenu />\r\n    </div>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport style from \"./Content.module.scss\";\r\nexport default (props) => {\r\n  const {\r\n    aTime,\r\n    trainNumber,\r\n    trainType,\r\n    arrWeek,\r\n    depWeek,\r\n    dTime,\r\n    timeCost,\r\n    startStation,\r\n    endStation,\r\n    depDataValue,\r\n    arrDataValue,\r\n  } = props.content;\r\n  return (\r\n    <div className={style.content} onClick={()=>{\r\n      props.setFlag(false)\r\n    }}>\r\n      <ul className={style.left}>\r\n        <li className={style.city}>{startStation}</li>\r\n        <li className={style.time}>{dTime}</li>\r\n        <li className={style.date}>\r\n          {depDataValue}\r\n          <span>{depWeek}</span>\r\n        </li>\r\n      </ul>\r\n      <ul className={style.middle}>\r\n        <li className={style.trainName}>\r\n          {trainNumber}\r\n          <span>{trainType}</span>\r\n        </li>\r\n        <li className={style.trainMid}>\r\n          <span className={style.trainMidLeft}></span>\r\n          <span className={style.timer}>时刻表</span>\r\n          <span className={style.trainMidRight}></span>\r\n        </li>\r\n        <li className={style.trainTime}>{timeCost}</li>\r\n      </ul>\r\n      <ul className={style.right}>\r\n        <li className={style.city}>{endStation}</li>\r\n        <li className={style.time}>{aTime}</li>\r\n        <li className={style.date}>\r\n          {arrDataValue}\r\n          <span>{arrWeek}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport style from \"./TicketList.module.scss\";\r\n\r\nexport default (props) => {\r\n  const { ticketInfos } = props;\r\n  return (\r\n    <ul className={style.lists}>\r\n      {ticketInfos.map((item) => {\r\n        return (\r\n          <li className={style.list} key={item.ticketId}>\r\n            <span>{item.type}</span>\r\n            <span>￥{item.price}</span>\r\n            <span>\r\n              {item.action.clickable && !item.remainTicket\r\n                ? \"\"\r\n                : item.remainTicket}\r\n            </span>\r\n            <button className={!item.action.clickable ? style.disabled : \"\"}>\r\n              {item.action.menu}\r\n            </button>\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport style from \"./Calender.module.scss\";\r\nimport cs from \"classnames\";\r\nconst Calender = (props) => {\r\n  const { stations, flag, setFlag } = props;\r\n  return (\r\n    <div\r\n      className={cs(style.mask, { hidden: flag })}\r\n      onClick={() => {\r\n        setFlag(true);\r\n      }}>\r\n      <div\r\n        className={style.pop}\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n        }}>\r\n        <h2>列车时刻表</h2>\r\n        <div className={style.title}>\r\n          <div className={style.titleLeft}></div>\r\n          <div className={style.titleRight}>\r\n            <div>车站</div>\r\n            <div>到达</div>\r\n            <div>发车</div>\r\n            <div>停留时间</div>\r\n          </div>\r\n        </div>\r\n        {stations &&\r\n          stations.map((item) => {\r\n            return (\r\n              <div className={style.lists} key={item.no}>\r\n                <div className={style.left}>\r\n                  <span>{item.no}</span>\r\n                </div>\r\n                <div className={style.right}>\r\n                  <div>{item.name}</div>\r\n                  <div>{item.arrTime}</div>\r\n                  <div>{item.depTime}</div>\r\n                  <div>{!item.stayTime ? \"-\" : item.stayTime}</div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calender;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"@/components/Header/Header\";\r\nimport DateNav from \"@/components/DateNav/DateNav\";\r\nimport Content from \"./components/Content\";\r\nimport TicketList from \"./components/TicketList\";\r\nimport Calender from \"./components/Calender\";\r\nimport { connect } from \"react-redux\";\r\nimport {baseUrl} from '@/config'\r\n\r\nconst Card = (props) => {\r\n  const [ticketInfos, setTicketInfos] = useState([]);\r\n  const [content, setContent] = useState({});\r\n  const [flag, setFlag] = useState(true);\r\n  const { cardSearch } = props;\r\n  useEffect(() => {\r\n    if (cardSearch) {\r\n      fetch(`${baseUrl}/getCardData/?${cardSearch}`)\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        if (json.code === 0) {\r\n          setTicketInfos(json.datas[0].ticketInfos);\r\n          setContent(json.datas[0].train);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [cardSearch]);\r\n  return (\r\n    <div style={{ background: \"#f5f5f5\", height: \"100vh\" }}>\r\n      <Header title={content.trainNumber} />\r\n      <DateNav history={props.history} />\r\n      <Content content={content} flag={flag} setFlag={setFlag} />\r\n      <TicketList ticketInfos={ticketInfos} />\r\n      <Calender stations={content.stations} flag={flag} setFlag={setFlag} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedDate: state.home.selectedDate,\r\n    cardSearch: state.home.cardSearch,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Card);\r\n","import React from \"react\";\nimport \"./style.scss\";\n\nimport \"@/styles/iconfont.css\";\n\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Home from \"@/views/Home/Home\";\nimport Date from \"@/views/Date/Date\";\nimport City from \"@/views/City/City\";\nimport TrainList from \"@/views/TrainList\";\nimport Card from \"@/views/Card\";\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/datePage\" component={Date}/>\n          <Route path=\"/cityPage\" component={City}/>\n          <Route path=\"/trainList\" component={TrainList}/>\n          <Route path=\"/card\" component={Card}/>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import dayjs from 'dayjs';\r\nimport {\r\n  CHANGE_CITY,\r\n  CHANGE_DATE,\r\n  SWITCH_CITY,\r\n  SWITCH_MENU_STATE,\r\n  GET_TRAIN_LIST,\r\n  GET_TICKET_TYPE,\r\n  GET_TRAIN_TYPE,\r\n  GET_DEP_STATION,\r\n  GET_ARR_STATION,\r\n  GET_ONLY_HIGH_SPEED_RAIL,\r\n  FILTER_TRAIN_TYPE,\r\n  GET_SEARCH\r\n} from \"./actionType\";\r\n\r\nconst defaultState = {\r\n  startCity: '北京',\r\n  terminalCity: '上海',\r\n  selectedDate: dayjs().format(\"YYYY-MM-DD\"),\r\n  menuShow: false,\r\n  isMenuEmpty: true,\r\n  isOnlyHighSpeedRail: false,\r\n  ticketTypeSelected: [],\r\n  trainTypeSelected: [],\r\n  depStationSelected: [],\r\n  arrStationSelected: [],\r\n  query: {\r\n    sort: 7,\r\n    onlyTickets: 0, //是否只看有票 1\r\n    filterTicketType: '',//坐席类型\r\n    filterTrainType: '',//车次类型\r\n    filterDepStation: '', //始发站\r\n    filterArrStation: '', //到站\r\n  },\r\n  trainData: {},\r\n  cardSearch: ''\r\n};\r\n\r\nconst reducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case CHANGE_CITY: {\r\n      if (action.obj.search.indexOf('start') === -1) {\r\n        return { ...state, terminalCity: action.obj.cityName };\r\n      }\r\n      return { ...state, startCity: action.obj.cityName };\r\n    }\r\n    case CHANGE_DATE: {\r\n      return { ...state, selectedDate: action.val }\r\n    }\r\n    case SWITCH_CITY: {\r\n      return { ...state, startCity: state.terminalCity, terminalCity: state.startCity }\r\n    }\r\n    case SWITCH_MENU_STATE: {\r\n      return { ...state, menuShow: action.val }\r\n    }\r\n    case GET_TRAIN_LIST: {\r\n      const newState = JSON.parse(JSON.stringify(state))\r\n      newState.trainData = action.jsonData\r\n      newState.query = action.val.query\r\n      newState.selectedDate = action.val.selectedDate\r\n      return newState\r\n    }\r\n    case GET_TICKET_TYPE: {\r\n      return { ...state, ticketTypeSelected: action.val }\r\n    }\r\n\r\n    case GET_TRAIN_TYPE: {\r\n      return { ...state, trainTypeSelected: action.val }\r\n    }\r\n\r\n    case GET_DEP_STATION: {\r\n      return { ...state, depStationSelected: action.val }\r\n    }\r\n\r\n    case GET_ARR_STATION: {\r\n      return { ...state, arrStationSelected: action.val }\r\n    }\r\n\r\n    case GET_ONLY_HIGH_SPEED_RAIL: {\r\n      return { ...state, isOnlyHighSpeedRail: action.val }\r\n    }\r\n    case FILTER_TRAIN_TYPE: {\r\n      const newState = JSON.parse(JSON.stringify(state))\r\n      newState.query.filterTrainType = action.val\r\n      return newState\r\n    }\r\n\r\n    case GET_SEARCH: {\r\n      return {...state,cardSearch:action.val}\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;","import { combineReducers } from \"redux\";\r\nimport home from \"./Home/reducer\";\r\nexport default combineReducers({\r\n  home\r\n});","import { applyMiddleware, createStore, compose } from \"redux\";\r\nimport rootReducer from './rootReducer'\r\n\r\nimport thunk from \"redux-thunk\";\r\n\r\n//Redux Devtools配置\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n  : compose;\r\n\r\n//将Redux Devtools和redux-thunk合并\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'normalize.css'\nimport App from './App';\nimport 'lib-flexible'\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}